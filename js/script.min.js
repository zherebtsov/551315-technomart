var ESC_KEY_CODE=27;function initPopup(e,o){var a=document.querySelectorAll(e),t=document.querySelector(o),l=t.querySelector(".modal-close");a.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal-show")})}),l.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal-show"),t.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){e.keyCode===ESC_KEY_CODE&&(e.preventDefault(),t.classList.contains("modal-show")&&(t.classList.remove("modal-show"),t.classList.remove("modal-error")))})}function initCallbackForm(e){var o=document.querySelector(e),a=o.querySelector(".callback-form"),t=a.querySelector("[name=name]"),l=a.querySelector("[name=email]"),r=a.querySelector("[name=message]");a.addEventListener("submit",function(e){t.value&&l.value&&r.value||(e.preventDefault(),o.classList.remove("modal-error"),o.classList.add("modal-error"))})}initPopup(".button-open-map",".modal-map"),initPopup(".button-open-callback",".modal-callback"),initCallbackForm(".modal-callback"),initPopup(".button-open-cart",".modal-cart");
